$themes: (
  dark: (
    base0: #839496,
    base1: #93a1a1,
    base2: #073642,
    base3: #002b36,
    base00: #657b83,
    base01: #586e75,
    base02: #eee8d5,
    base03: #fdf6e3,
  ),
  light: (
    white: #FFFFFF,
    black: #000000,
    primary: #5F5BCC,
    accent: #E32849,
    dark-grey: #333333,
    grey: #666666,
    light-grey: #999999,
    dark-white: #D9D9D9,
  ),
);

@mixin themed() {
  @each $theme, $map in $themes {
    .theme--#{$theme} &, &.theme--#{$theme} {
      $theme-map: () !global;
      @each $key, $submap in $map {
        $value: map-get(map-get($themes, $theme), '#{$key}');
        $theme-map: map-merge($theme-map, ($key: $value)) !global;
      }
      @content;
      $theme-map: null !global;
    }
  }
}

@function t($key) {
  @return map-get($theme-map, $key);
}