@import "sources/shared/assets/styles/theme";

$clock-size: 200px;
$clock-seconds-hand-gap: 15px;
$clock-minutes-hand-gap: 25px;
$clock-hours-hand-gap: 50px;

#home {
  @include theme() {
    #home-small-icons {
      display: flex;
      flex-direction: column;
      gap: 30px;

      .tile {
        width: 70px;
        display: flex;
        flex-direction: column;
        align-items: center;
        cursor: pointer;

        &:active {
          opacity: 0.8;
        }

        .icon {
          width: 60px;
          height: 60px;
          background-size: cover;
        }
        p {
          margin-top: 5px;
          color: permanent(bg-color);
        }
      }
    }

    #home-big {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 50px;

      .avatar {
        width: 150px;
        border-radius: calc(150px / 2);
        background: unquote(themed(dark-white) + '80');
      }

      .avatar-name {
        color: permanent(bg-color);
        text-align: center;
      }

      #home-big-icons {
        display: flex;
        gap: 30px;

        .column {
          & > div:first-child {
            margin-bottom: 30px;
          }
          .small-button, .big-button {
            background: themed(bg-color);
            width: 250px;
            border-radius: 20px;
            padding: 20px;
            cursor: pointer;
            position: relative;

            h2 {
              font-weight: bolder;
              text-align: center;
              span {
                color: themed(primary);
              }
            }
          }
          .small-button {
            height: 200px;
          }
          .big-button {
            height: 300px;
          }
          .big-button:first-child {
            border-radius: 20px 75px 20px 20px;
          }
          .big-button:last-child {
            border-radius: 20px 20px 20px 75px;
          }
        }

        .parameters-icon {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          width: 75px;
          display: flex;
          gap: 12px;
          flex-direction: column;
          margin-top: 10px;

          .parameters-bar {
            display: block;
            width: 100%;
            height: 10px;
            background: themed(text-color);
            border-radius: 20px;
            position: relative;

            .parameters-bar-circle {
              position: absolute;
              top: 50%;
              left: 0;
              transform: translateY(-50%);
              display: block;
              width: 20px;
              height: 20px;
              border-radius: 50%;
              border: solid 4px themed(text-color);
              background: themed(bg-color);
            }
          }

          .parameters-bar {
            &:nth-child(1) {
              .parameters-bar-circle {
                left: 10%;
              }
            }
            &:nth-child(2) {
              background: themed(primary);

              .parameters-bar-circle {
                border-color: themed(primary);
                left: 70%;
              }
            }
            &:nth-child(3) {
              .parameters-bar-circle {
                left: 30%;
              }
            }
          }
        }

        .huge-tic-tac-toe {
          width: 180px;
          height: 180px;
          margin: 24px auto auto;
          background-size: cover;
        }

        .calculator-button {
          h2 {
            padding-bottom: 5px;
            border-bottom: solid 1px themed(text-color);
            width: 80%;
            margin: auto auto 15px;
          }

          .calculator-row {
            display: flex;
            justify-content: center;

            span {
              text-align: center;
              font-size: 16px;
              width: 50px;
              height: 30px;
            }
          }
        }

        .clock-button {
          display: flex;
          justify-content: center;
          align-items: center;

          .clock {
            position: relative;
            width: $clock-size;
            height: $clock-size;

            #second-hand,
            #minute-hand,
            #hour-hand, .indicator {
              position: absolute;
              left: 50%;
              width: 3px;
              transform-origin: bottom center;
              border-radius: 8px;
            }

            .hands-join {
              position: absolute;
              top: 50%;
              left: calc(50% + 1.5px); // hand width / 2
              transform: translate(-50%, -50%);
              width: 14px;
              height: 14px;
              border-radius: 50%;
              background: themed(bg-color);
              border: solid 3px themed(text-color);
            }

            .indicator {
              height: calc($clock-size / 2);
              display: flex;
              justify-content: center;
            }

            .indicator-dot {
              height: 4px;
              width: 4px;
              border-radius: 50px;
              background: themed(dark-white);
            }

            @for $i from 1 through 12 {
              .indicator:nth-of-type(#{$i}) {
                transform: rotateZ(calc(6deg * 5 * #{$i})); // 6deg * 5 because 360deg / 60 = 6 (*5 cause we want 12 indicators)
                .indicator-number {
                  height: fit-content;
                  transform: rotateZ(calc(6deg * 5 * #{$i} * -1));
                }
              }
            }

            #second-hand {
              height: calc(($clock-size / 2) - $clock-seconds-hand-gap);
              width: 2px;
              background: themed(medium-grey);
              margin-top: $clock-seconds-hand-gap;
              animation: turnHand 60s linear infinite; // 1 loop = 60 seconds, played infinitely, instead of using js
            }
            #minute-hand {
              height: calc(($clock-size / 2) - $clock-minutes-hand-gap);
              background: themed(text-color);
              margin-top: $clock-minutes-hand-gap;
              animation: turnHand 3600s linear infinite; // 60*60s (1 hour)
            }
            #hour-hand {
              height: calc(($clock-size / 2) - $clock-hours-hand-gap);
              background: themed(primary);
              margin-top: $clock-hours-hand-gap;
              animation: turnHand 43200s linear infinite; // 60*60*12s (12 hours)
            }
            @keyframes turnHand {
              to {
                transform: rotateZ(360deg);
              }
            }
          }
        }

        #clock-date {
          text-align: center;
          margin-top: 20px;
        }
      }
    }

  }

  .theme--light & {
    .clock-button .icon {
      background-image: url("../../shared/assets/images/clock.svg");
    }
    .tic-tac-toe-button .icon {
      background-image: url("../../shared/assets/images/tic_tac_toe.svg");
    }
    .calculator-button .icon {
      background-image: url("../../shared/assets/images/calculator.svg");
    }
    .parameters-button .icon {
      background-image: url("../../shared/assets/images/settings.svg");
    }
    .huge-tic-tac-toe {
      background: url("../../shared/assets/images/tic_tac_toe-big.svg");
    }
  }

  .theme--dark & {
    .clock-button .icon {
      background-image: url("../../shared/assets/images/clock-dark.svg");
    }
    .tic-tac-toe-button .icon {
      background-image: url("../../shared/assets/images/tic_tac_toe-dark.svg");
    }
    .calculator-button .icon {
      background-image: url("../../shared/assets/images/calculator-dark.svg");
    }
    .parameters-button .icon {
      background-image: url("../../shared/assets/images/settings-dark.svg");
    }
    .huge-tic-tac-toe {
      background: url("../../shared/assets/images/tic_tac_toe-big-dark.svg");
    }
  }
}